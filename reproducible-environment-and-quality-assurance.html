<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter One - A Journey with DataKind SG</title>
  <meta name="description" content="The first thing to read when you want to volunteer for DataKind Singapore">
  <meta name="generator" content="bookdown 0.5.4 and GitBook 2.6.7">

  <meta property="og:title" content="Chapter One - A Journey with DataKind SG" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="The first thing to read when you want to volunteer for DataKind Singapore" />
  <meta name="github-repo" content="datakind-sg/chapter-one" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter One - A Journey with DataKind SG" />
  
  <meta name="twitter:description" content="The first thing to read when you want to volunteer for DataKind Singapore" />
  

<meta name="author" content="DataKind SG">


<meta name="date" content="2017-10-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="managing-code.html">
<link rel="next" href="data-protection-and-information-ethics.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Chapter One - A Journey with DataKind SG</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#goals"><i class="fa fa-check"></i>Goals</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html"><i class="fa fa-check"></i><b>1</b> Overview of Project Flow</a><ul>
<li class="chapter" data-level="1.1" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html#project-funnel"><i class="fa fa-check"></i><b>1.1</b> Project Funnel</a></li>
<li class="chapter" data-level="1.2" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html#project-accelerators"><i class="fa fa-check"></i><b>1.2</b> Project Accelerators</a></li>
<li class="chapter" data-level="1.3" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html#datajams"><i class="fa fa-check"></i><b>1.3</b> DataJams</a></li>
<li class="chapter" data-level="1.4" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html#datadive"><i class="fa fa-check"></i><b>1.4</b> DataDive</a></li>
<li class="chapter" data-level="1.5" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html#datacorps"><i class="fa fa-check"></i><b>1.5</b> DataCorps</a></li>
<li class="chapter" data-level="1.6" data-path="overview-of-project-flow.html"><a href="overview-of-project-flow.html#datalearn"><i class="fa fa-check"></i><b>1.6</b> DataLearn</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="project-management.html"><a href="project-management.html"><i class="fa fa-check"></i><b>2</b> Project Management</a><ul>
<li class="chapter" data-level="2.1" data-path="project-management.html"><a href="project-management.html#tracking-progress"><i class="fa fa-check"></i><b>2.1</b> Tracking Progress</a></li>
<li class="chapter" data-level="2.2" data-path="project-management.html"><a href="project-management.html#tasks-and-assignment"><i class="fa fa-check"></i><b>2.2</b> Tasks and Assignment</a></li>
<li class="chapter" data-level="2.3" data-path="project-management.html"><a href="project-management.html#recommended-roles"><i class="fa fa-check"></i><b>2.3</b> Recommended Roles</a></li>
<li class="chapter" data-level="2.4" data-path="project-management.html"><a href="project-management.html#tips"><i class="fa fa-check"></i><b>2.4</b> Tips</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-cleaning.html"><a href="data-cleaning.html"><i class="fa fa-check"></i><b>3</b> Data Cleaning</a><ul>
<li class="chapter" data-level="3.1" data-path="data-cleaning.html"><a href="data-cleaning.html#test-driven-data-cleaning"><i class="fa fa-check"></i><b>3.1</b> Test Driven Data Cleaning</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-cleaning.html"><a href="data-cleaning.html#for-volunteers"><i class="fa fa-check"></i><b>3.1.1</b> For Volunteers</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-cleaning.html"><a href="data-cleaning.html#for-team-leads"><i class="fa fa-check"></i><b>3.1.2</b> For Team Leads</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="managing-code.html"><a href="managing-code.html"><i class="fa fa-check"></i><b>4</b> Managing Code</a><ul>
<li class="chapter" data-level="4.1" data-path="managing-code.html"><a href="managing-code.html#version-control"><i class="fa fa-check"></i><b>4.1</b> Version Control</a></li>
<li class="chapter" data-level="4.2" data-path="managing-code.html"><a href="managing-code.html#github-faqs"><i class="fa fa-check"></i><b>4.2</b> Github FAQs</a><ul>
<li class="chapter" data-level="4.2.1" data-path="managing-code.html"><a href="managing-code.html#the-csv.gz-files-seems-to-be-too-smallcorrupted-what-should-i-do"><i class="fa fa-check"></i><b>4.2.1</b> The csv.gz files seems to be too small/corrupted, what should I do?</a></li>
<li class="chapter" data-level="4.2.2" data-path="managing-code.html"><a href="managing-code.html#im-new-to-git-where-can-i-get-more-information"><i class="fa fa-check"></i><b>4.2.2</b> I’m new to Git, where can I get more information?</a></li>
<li class="chapter" data-level="4.2.3" data-path="managing-code.html"><a href="managing-code.html#how-to-clone-a-git-repository"><i class="fa fa-check"></i><b>4.2.3</b> How to clone a git repository?</a></li>
<li class="chapter" data-level="4.2.4" data-path="managing-code.html"><a href="managing-code.html#how-to-load-csv.gz-files"><i class="fa fa-check"></i><b>4.2.4</b> How to load csv.gz files?</a></li>
<li class="chapter" data-level="4.2.5" data-path="managing-code.html"><a href="managing-code.html#how-can-i-safely-edit-the-code-and-data-files"><i class="fa fa-check"></i><b>4.2.5</b> How can I safely edit the code and data files?</a></li>
<li class="chapter" data-level="4.2.6" data-path="managing-code.html"><a href="managing-code.html#doing-a-git-branch"><i class="fa fa-check"></i><b>4.2.6</b> Doing a git branch</a></li>
<li class="chapter" data-level="4.2.7" data-path="managing-code.html"><a href="managing-code.html#how-to-submit-changes-to-the-code-repository"><i class="fa fa-check"></i><b>4.2.7</b> How to submit changes to the code repository</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="managing-code.html"><a href="managing-code.html#directory-structure"><i class="fa fa-check"></i><b>4.3</b> Directory Structure</a></li>
<li class="chapter" data-level="4.4" data-path="managing-code.html"><a href="managing-code.html#code-style"><i class="fa fa-check"></i><b>4.4</b> Code Style</a></li>
<li class="chapter" data-level="4.5" data-path="managing-code.html"><a href="managing-code.html#preamble-information-to-be-placed-at-the-top-of-every-script"><i class="fa fa-check"></i><b>4.5</b> Preamble information to be placed at the top of every script</a></li>
<li class="chapter" data-level="4.6" data-path="managing-code.html"><a href="managing-code.html#quickstart-templates"><i class="fa fa-check"></i><b>4.6</b> Quickstart Templates</a></li>
<li class="chapter" data-level="4.7" data-path="managing-code.html"><a href="managing-code.html#tips-1"><i class="fa fa-check"></i><b>4.7</b> Tips</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html"><i class="fa fa-check"></i><b>5</b> Reproducible Environment and Quality Assurance</a><ul>
<li class="chapter" data-level="5.1" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#using-containers-continuous-integration-and-delivery"><i class="fa fa-check"></i><b>5.1</b> Using Containers, Continuous Integration and Delivery</a></li>
<li class="chapter" data-level="5.2" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#installation"><i class="fa fa-check"></i><b>5.2</b> Installation</a><ul>
<li class="chapter" data-level="5.2.1" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#for-windows"><i class="fa fa-check"></i><b>5.2.1</b> … for Windows</a></li>
<li class="chapter" data-level="5.2.2" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#for-linux"><i class="fa fa-check"></i><b>5.2.2</b> … for Linux</a></li>
<li class="chapter" data-level="5.2.3" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#for-macos"><i class="fa fa-check"></i><b>5.2.3</b> … for MacOS</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#ensure-that-docker-is-running"><i class="fa fa-check"></i><b>5.3</b> Ensure that Docker is Running</a></li>
<li class="chapter" data-level="5.4" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#using-docker-for-python-notebooks"><i class="fa fa-check"></i><b>5.4</b> Using Docker for Python Notebooks</a><ul>
<li class="chapter" data-level="5.4.1" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#getting-a-python-jupyter-notebook-container-image"><i class="fa fa-check"></i><b>5.4.1</b> Getting a Python Jupyter Notebook Container Image</a></li>
<li class="chapter" data-level="5.4.2" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#pulling-from-a-repository"><i class="fa fa-check"></i><b>5.4.2</b> Pulling from a repository</a></li>
<li class="chapter" data-level="5.4.3" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#loading-from-a-file"><i class="fa fa-check"></i><b>5.4.3</b> Loading from a file</a></li>
<li class="chapter" data-level="5.4.4" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#running-a-jupyter-notebook-from-the-pulledloaded-image"><i class="fa fa-check"></i><b>5.4.4</b> Running a Jupyter Notebook from the pulled/loaded image</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#using-docker-for-r-notebooks"><i class="fa fa-check"></i><b>5.5</b> Using Docker for R Notebooks</a><ul>
<li class="chapter" data-level="5.5.1" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#getting-an-r-jupyter-notebook-container-image"><i class="fa fa-check"></i><b>5.5.1</b> Getting an R Jupyter Notebook Container Image</a></li>
<li class="chapter" data-level="5.5.2" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#running-a-jupyter-notebook-from-the-pulledloaded-image-1"><i class="fa fa-check"></i><b>5.5.2</b> Running a Jupyter Notebook from the pulled/loaded image</a></li>
<li class="chapter" data-level="5.5.3" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#once-the-notebook-is-running-you-may-create-a-new-notebook-and-try-the-following-samples"><i class="fa fa-check"></i><b>5.5.3</b> Once the notebook is running, you may create a new notebook and try the following samples:</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#using-docker-for-rstudio"><i class="fa fa-check"></i><b>5.6</b> Using Docker for RStudio</a><ul>
<li class="chapter" data-level="5.6.1" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#getting-an-rstudio-container-image"><i class="fa fa-check"></i><b>5.6.1</b> Getting an RStudio Container Image</a></li>
<li class="chapter" data-level="5.6.2" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#running-rstudio-from-the-pulledloaded-image"><i class="fa fa-check"></i><b>5.6.2</b> Running RStudio from the pulled/loaded image</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#managing-libraries"><i class="fa fa-check"></i><b>5.7</b> Managing libraries</a></li>
<li class="chapter" data-level="5.8" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#testing"><i class="fa fa-check"></i><b>5.8</b> Testing</a></li>
<li class="chapter" data-level="5.9" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#recommended-roles-1"><i class="fa fa-check"></i><b>5.9</b> Recommended Roles</a></li>
<li class="chapter" data-level="5.10" data-path="reproducible-environment-and-quality-assurance.html"><a href="reproducible-environment-and-quality-assurance.html#tips-2"><i class="fa fa-check"></i><b>5.10</b> Tips</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-protection-and-information-ethics.html"><a href="data-protection-and-information-ethics.html"><i class="fa fa-check"></i><b>6</b> Data Protection and Information Ethics</a><ul>
<li class="chapter" data-level="6.1" data-path="data-protection-and-information-ethics.html"><a href="data-protection-and-information-ethics.html#data-protection"><i class="fa fa-check"></i><b>6.1</b> Data Protection</a></li>
<li class="chapter" data-level="6.2" data-path="data-protection-and-information-ethics.html"><a href="data-protection-and-information-ethics.html#information-ethics"><i class="fa fa-check"></i><b>6.2</b> Information Ethics</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>7</b> Resources</a><ul>
<li class="chapter" data-level="7.1" data-path="resources.html"><a href="resources.html#tools"><i class="fa fa-check"></i><b>7.1</b> Tools</a><ul>
<li class="chapter" data-level="7.1.1" data-path="resources.html"><a href="resources.html#test-driven-data-cleaning-1"><i class="fa fa-check"></i><b>7.1.1</b> Test Driven Data Cleaning</a></li>
<li class="chapter" data-level="7.1.2" data-path="resources.html"><a href="resources.html#github"><i class="fa fa-check"></i><b>7.1.2</b> Github</a></li>
<li class="chapter" data-level="7.1.3" data-path="resources.html"><a href="resources.html#trello"><i class="fa fa-check"></i><b>7.1.3</b> Trello</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="resources.html"><a href="resources.html#cheatsheets"><i class="fa fa-check"></i><b>7.2</b> Cheatsheets</a><ul>
<li class="chapter" data-level="7.2.1" data-path="resources.html"><a href="resources.html#r"><i class="fa fa-check"></i><b>7.2.1</b> R</a></li>
<li class="chapter" data-level="7.2.2" data-path="resources.html"><a href="resources.html#python"><i class="fa fa-check"></i><b>7.2.2</b> Python</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="resources.html"><a href="resources.html#videos"><i class="fa fa-check"></i><b>7.3</b> Videos</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>8</b> About</a><ul>
<li class="chapter" data-level="8.1" data-path="about.html"><a href="about.html#about-dksg"><i class="fa fa-check"></i><b>8.1</b> About DKSG</a></li>
<li class="chapter" data-level="8.2" data-path="about.html"><a href="about.html#contributors"><i class="fa fa-check"></i><b>8.2</b> Contributors</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Chapter One - A Journey with DataKind SG</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reproducible-environment-and-quality-assurance" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Reproducible Environment and Quality Assurance</h1>
<div id="using-containers-continuous-integration-and-delivery" class="section level2">
<h2><span class="header-section-number">5.1</span> Using Containers, Continuous Integration and Delivery</h2>
<p>To ensure that the scripts can run in a consistent environment, we create Docker containers with known versions of Development Environment and the corresponding library versions used in generating the data analysis/products.</p>
<p>We will also need to keep the containers up to date and easily available for download. Hence we utilize Continuous Integration and Delivery capabilities such as Quay.io to build images from specified Dockerfiles.</p>
<p>In this section, we shall walk you through the setup and running of different Docker environment.</p>
</div>
<div id="installation" class="section level2">
<h2><span class="header-section-number">5.2</span> Installation</h2>
<div id="for-windows" class="section level3">
<h3><span class="header-section-number">5.2.1</span> … for Windows</h3>
<p>Follow the setup instructions here: <a href="https://docs.docker.com/docker-for-windows/install/" class="uri">https://docs.docker.com/docker-for-windows/install/</a></p>
<p>Note: If your machine doesn’t met the requirement for “Docker For Windows”, try setting up “Docker Toolbox”: <a href="https://docs.docker.com/toolbox/toolbox_install_windows/" class="uri">https://docs.docker.com/toolbox/toolbox_install_windows/</a></p>
</div>
<div id="for-linux" class="section level3">
<h3><span class="header-section-number">5.2.2</span> … for Linux</h3>
<p>Follow the setup instructions for your flavor of Linux here: <a href="https://docs.docker.com/engine/installation/linux/" class="uri">https://docs.docker.com/engine/installation/linux/</a></p>
</div>
<div id="for-macos" class="section level3">
<h3><span class="header-section-number">5.2.3</span> … for MacOS</h3>
<p>Follow the setup instructions here: <a href="https://store.docker.com/editions/community/docker-ce-desktop-mac" class="uri">https://store.docker.com/editions/community/docker-ce-desktop-mac</a></p>
<p>Or if you use Homebrew Cask,</p>
<pre><code>$ brew cask install docker</code></pre>
</div>
</div>
<div id="ensure-that-docker-is-running" class="section level2">
<h2><span class="header-section-number">5.3</span> Ensure that Docker is Running</h2>
<p>Start running the Docker app. Check that it is running on the command line:</p>
<pre><code>$ docker info
Containers: 3
 Running: 0
 Paused: 0
 Stopped: 3
Images: 1
Server Version: 1.13.1
...</code></pre>
</div>
<div id="using-docker-for-python-notebooks" class="section level2">
<h2><span class="header-section-number">5.4</span> Using Docker for Python Notebooks</h2>
<div id="getting-a-python-jupyter-notebook-container-image" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Getting a Python Jupyter Notebook Container Image</h3>
<p>There are at least two ways of getting an image:</p>
<ul>
<li>Pulling from a repository (such as quay.io)</li>
<li>Loading from a file</li>
</ul>
</div>
<div id="pulling-from-a-repository" class="section level3">
<h3><span class="header-section-number">5.4.2</span> Pulling from a repository</h3>
<p>You can pull down the image with:</p>
<pre><code>$ docker pull quay.io/dksg/python3-notebook:1.0.0</code></pre>
<p>Once that finishes downloading, you should see something like:</p>
<pre><code>$ docker images
REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE
quay.io/dksg/python3-notebook   1.0.0              f01e49a5a922        3 days ago          2.61 GB</code></pre>
</div>
<div id="loading-from-a-file" class="section level3">
<h3><span class="header-section-number">5.4.3</span> Loading from a file</h3>
<p>This is an alternative method. Skip this if you already have pulled from a repository successfully. Otherwise, follow the steps below:</p>
<ol style="list-style-type: decimal">
<li>Copy the tar file (get this from a DK corelead) to your local directory (e.g. quay.io_SLASH_dksg_SLASH_python3-notebook_1.0.0.tar)</li>
<li><p>In your local directory, run the following docker command:</p>
<pre><code>docker load --input quay.io_SLASH_dksg_SLASH_python3-notebook_&lt;tagged_version&gt;.tar</code></pre></li>
<li>This will return a loaded image id.</li>
<li><p>Tag the newly added image with the version from the filename by running the following:</p>
<pre><code>docker tag &lt;loaded image id&gt; quay.io/dksg/python3-notebook:&lt;tagged_version&gt;</code></pre></li>
</ol>
</div>
<div id="running-a-jupyter-notebook-from-the-pulledloaded-image" class="section level3">
<h3><span class="header-section-number">5.4.4</span> Running a Jupyter Notebook from the pulled/loaded image</h3>
<p>Take the <code>IMAGE ID</code> from previous step and start it up with this command:</p>
<pre><code>docker run -p 8888:8888 -v /path/to/local/directory:/home/jovyan/work f01e49a5a922</code></pre>
<p><strong>Note:</strong> /path/to/local/directory should be replaced by <strong>an existing local directory in your laptop.</strong> This is where your notebooks (.ipynb) will be stored. e.g. docker run -p 8888:8888 -v /Users/johndoe/datadive:/home/jovyan/work quay.io/dksg/python3-notebook:1.0.0</p>
<p>You will get instructions for link to paste into your browser address box. If you’re using Docker Toolbox, you should use the custom IP address (default <a href="http://192.168.99.100/" class="uri">http://192.168.99.100/</a>)</p>
<p>Once the notebook is running, you may create a new notebook and try the samples in this tutorial: <a href="https://plot.ly/python/ipython-notebook-tutorial/" class="uri">https://plot.ly/python/ipython-notebook-tutorial/</a></p>
<p>Note: The following python script may be needed to run first in order to run the above tutorial samples:</p>
<pre><code>import plotly
plotly.offline.init_notebook_mode() # run at the start of every ipython notebook</code></pre>
</div>
</div>
<div id="using-docker-for-r-notebooks" class="section level2">
<h2><span class="header-section-number">5.5</span> Using Docker for R Notebooks</h2>
<div id="getting-an-r-jupyter-notebook-container-image" class="section level3">
<h3><span class="header-section-number">5.5.1</span> Getting an R Jupyter Notebook Container Image</h3>
<p>There are at least two ways of getting an image:</p>
<ul>
<li>Pulling from a repository (such as quay.io)</li>
<li>Loading from a file</li>
</ul>
<div id="pulling-from-a-repository-1" class="section level4">
<h4><span class="header-section-number">5.5.1.1</span> Pulling from a repository</h4>
<p>You can pull down the image with:</p>
<pre><code>$ docker pull quay.io/dksg/r-notebook:&lt;tagged_version&gt;</code></pre>
<p>Once that finishes downloading, you should see something like:</p>
<pre><code>$ docker images
REPOSITORY                      TAG                 IMAGE ID            CREATED             SIZE
quay.io/dksg/r-notebook   1.0.1              f01e49a5a922        3 days ago          2.61 GB</code></pre>
</div>
<div id="loading-from-a-file-1" class="section level4">
<h4><span class="header-section-number">5.5.1.2</span> Loading from a file</h4>
<p>This is an alternative method. Skip this if you already have pulled from a repository successfully. Otherwise, follow the steps below:</p>
<ol style="list-style-type: decimal">
<li>Copy the tar file (get this from a DK corelead) to your local directory (e.g. quay.io_SLASH_dksg_SLASH_r-notebook_1.0.1.tar)</li>
<li><p>In your local directory, run the following docker command:</p>
<pre><code>docker load --input quay.io_SLASH_dksg_SLASH_r-notebook_&lt;tagged_version&gt;.tar</code></pre></li>
<li>This will return a loaded image id.</li>
<li><p>Tag the newly added image with the version from the filename by running the following:</p>
<pre><code>docker tag &lt;loaded image id&gt; quay.io/dksg/r-notebook:&lt;tagged_version&gt;</code></pre></li>
</ol>
</div>
</div>
<div id="running-a-jupyter-notebook-from-the-pulledloaded-image-1" class="section level3">
<h3><span class="header-section-number">5.5.2</span> Running a Jupyter Notebook from the pulled/loaded image</h3>
<p>Take the <code>IMAGE ID</code> from previous step and start it up with this command:</p>
<pre><code>docker run -p 8888:8888 -v /path/to/local/directory:/home/jovyan/work f01e49a5a922</code></pre>
<p><strong>Note:</strong> /path/to/local/directory should be replaced by <strong>an existing local directory in your laptop.</strong> This is where your notebooks (.ipynb) will be stored. e.g. docker run -p 8888:8888 -v /Users/johndoe/datadive:/home/jovyan/work quay.io/dksg/r-notebook:<tagged_version></p>
<p>You will get instructions for link to paste into your browser address box. If you’re using Docker Toolbox, you should use the custom IP address (default <a href="http://192.168.99.100/" class="uri">http://192.168.99.100/</a>)</p>
</div>
<div id="once-the-notebook-is-running-you-may-create-a-new-notebook-and-try-the-following-samples" class="section level3">
<h3><span class="header-section-number">5.5.3</span> Once the notebook is running, you may create a new notebook and try the following samples:</h3>
<p><a href="https://plot.ly/r/using-r-in-jupyter-notebooks/#examples" class="uri">https://plot.ly/r/using-r-in-jupyter-notebooks/#examples</a></p>
</div>
</div>
<div id="using-docker-for-rstudio" class="section level2">
<h2><span class="header-section-number">5.6</span> Using Docker for RStudio</h2>
<div id="getting-an-rstudio-container-image" class="section level3">
<h3><span class="header-section-number">5.6.1</span> Getting an RStudio Container Image</h3>
<p>There are at least two ways of getting an image:</p>
<ul>
<li>Pulling from a repository (such as quay.io)</li>
<li>Loading from a file</li>
</ul>
<div id="pulling-from-a-repository-2" class="section level4">
<h4><span class="header-section-number">5.6.1.1</span> Pulling from a repository</h4>
<p>You can pull down the image with:</p>
<pre><code>$ docker pull quay.io/dksg/&lt;project_name&gt;-rstudio:&lt;tagged_version&gt;</code></pre>
<p>Once that finishes downloading, you should see something like:</p>
<pre><code>$ docker images
REPOSITORY                             TAG                 IMAGE ID            CREATED             SIZE
quay.io/dksg/&lt;project_name&gt;-rstudio              1.0.2               1c1e06209032        13 hours ago        1.166 GB</code></pre>
</div>
<div id="loading-from-a-file-2" class="section level4">
<h4><span class="header-section-number">5.6.1.2</span> Loading from a file</h4>
<p>This is an alternative method. Skip this if you already have pulled from a repository successfully. Otherwise, follow the steps below:</p>
<ol style="list-style-type: decimal">
<li>Copy the tar file (get this from a DK corelead) to your local directory (e.g. quay.io_SLASH_dksg_SLASH_ojoy-rstudio_1.0.2.tar)</li>
<li><p>In your local directory, run the following docker command:</p>
<pre><code>docker load --input quay.io_SLASH_dksg_SLASH_&lt;project_name&gt;-rstudio_&lt;tagged_version&gt;.tar</code></pre></li>
<li><p>Once loaded, you should be able to see the new image when you run “docker images”:</p>
<pre><code>$ docker images
REPOSITORY                             TAG                 IMAGE ID            CREATED             SIZE
quay.io/dksg/&lt;project_name&gt;-rstudio              1.0.2               1c1e06209032        13 hours ago        1.166 GB</code></pre></li>
</ol>
</div>
</div>
<div id="running-rstudio-from-the-pulledloaded-image" class="section level3">
<h3><span class="header-section-number">5.6.2</span> Running RStudio from the pulled/loaded image</h3>
<p>Start it up with this command:</p>
<pre><code>docker run -p 8787:8787 -v /path/to/local/directory:/home/rstudio/foobar quay.io/dksg/&lt;project_name&gt;-rstudio:&lt;tagged_version&gt;</code></pre>
<p><strong>Note:</strong> /path/to/local/directory should be replaced by <strong>an existing local directory in your laptop.</strong> This is where your data/scripts will be stored. e.g. docker run -d -p 8787:8787 -v /Users/johndoe/datadive:/home/rstudio/foobar quay.io/dksg/<project_name>-rstudio:<tagged_version></p>
<p>You should be able to access RStudio in the browser via <a href="http://localhost:8787" class="uri">http://localhost:8787</a>. If you’re using Docker Toolbox, you should use the custom IP address (default <a href="http://192.168.99.100:8787" class="uri">http://192.168.99.100:8787</a>)</p>
<p>Username: rstudio</p>
<p>Password: rstudio</p>
</div>
</div>
<div id="managing-libraries" class="section level2">
<h2><span class="header-section-number">5.7</span> Managing libraries</h2>
<p>If there’s a python or R library that you need, you can install it in your container, but unless the library is persisted to the image, your scripts that use the library will not run on somebody else’s machine. Each project will have a person assigned as a <em>library curator</em> and they will be able to include the library in the project’s docker image. Workflow should be:</p>
<ol style="list-style-type: decimal">
<li>You’re puttering along when you realise that you want to add your favourite nlp library.</li>
<li>You install it in your container, and try it out. It works great!</li>
<li>Show it to your project’s curator and convince them that it’s a useful library. Their default mode is lazy and they will try to point you to an existing library. You show them the hot shiny feature the one you want has.</li>
<li>The curator changes the requirements file in our docker file Github repo, Quay auto-magically builds a new image, and when people need to run your code, they need to use this new image.</li>
</ol>
</div>
<div id="testing" class="section level2">
<h2><span class="header-section-number">5.8</span> Testing</h2>
</div>
<div id="recommended-roles-1" class="section level2">
<h2><span class="header-section-number">5.9</span> Recommended Roles</h2>
</div>
<div id="tips-2" class="section level2">
<h2><span class="header-section-number">5.10</span> Tips</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="managing-code.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-protection-and-information-ethics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/datakind-sg/chapter-one/edit/master/reproducible_environment.Rmd",
"text": "Edit"
},
"download": ["Chapter One - A Journey with DataKind-SG.pdf", "Chapter One - A Journey with DataKind-SG.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
